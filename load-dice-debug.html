<!DOCTYPE html>
<html>
<head>
    <title>Load Dice Debug System</title>
    <style>
        body { font-family: monospace; padding: 20px; }
        .instructions { background: #f0f8ff; padding: 15px; border-radius: 5px; margin: 20px 0; }
        .code { background: #f5f5f5; padding: 10px; border-radius: 3px; font-family: monospace; }
    </style>
</head>
<body>
    <h1>üîç Dice Debug System Loader</h1>
    
    <div class="instructions">
        <h3>How to Load the Debug System:</h3>
        <p><strong>Method 1: Automatic Loading</strong></p>
        <p>Add this script tag to your main game HTML file (index.html or game.html):</p>
        <div class="code">
            &lt;script src="comprehensive-dice-debug.js"&gt;&lt;/script&gt;
        </div>
        
        <p><strong>Method 2: Manual Loading</strong></p>
        <p>Open the browser console and paste this code:</p>
        <div class="code">
            const script = document.createElement('script');<br>
            script.src = 'comprehensive-dice-debug.js';<br>
            document.head.appendChild(script);
        </div>
        
        <p><strong>Method 3: Console Loading</strong></p>
        <p>Copy and paste the entire content of comprehensive-dice-debug.js into the console</p>
    </div>
    
    <div class="instructions">
        <h3>What the Debug System Will Show:</h3>
        <ul>
            <li>üé≤ <strong>Real-time dice click tracking</strong> - Every click with timestamp and source</li>
            <li>üîç <strong>Turn flow monitoring</strong> - takeTurn() and nextTurn() calls</li>
            <li>‚öôÔ∏è <strong>Flag state tracking</strong> - isDiceRollInProgress, isDiceClickHandlerRunning, etc.</li>
            <li>üìä <strong>Visual overlay</strong> - Shows current state in top-right corner</li>
            <li>üö® <strong>Rapid click detection</strong> - Warns about multiple clicks in short time</li>
            <li>üìù <strong>Call stack tracking</strong> - Shows where functions are being called from</li>
        </ul>
    </div>
    
    <div class="instructions">
        <h3>Debug Console Commands:</h3>
        <div class="code">
            // Get current debug state<br>
            debugDiceSystem.getState()<br><br>
            
            // Get click history<br>
            debugDiceSystem.getHistory()<br><br>
            
            // Clear debug history<br>
            debugDiceSystem.clearHistory()<br><br>
            
            // Force state check<br>
            debugDiceSystem.forceStateCheck()<br><br>
            
            // Check dice section state<br>
            debugDiceSystem.checkDiceSection()<br><br>
            
            // Toggle debug overlay<br>
            toggleDiceDebug()
        </div>
    </div>
    
    <button onclick="loadDebugSystem()">Load Debug System Now</button>
    <button onclick="testDebugSystem()">Test Debug System</button>
    
    <div id="status" style="margin-top: 20px; padding: 10px; background: #f0f0f0;"></div>
    
    <script>
        function updateStatus(message, type = 'info') {
            const status = document.getElementById('status');
            const color = type === 'success' ? 'green' : type === 'error' ? 'red' : 'black';
            status.innerHTML += `<div style="color: ${color}">${message}</div>`;
        }
        
        function loadDebugSystem() {
            updateStatus('Loading debug system...', 'info');
            
            const script = document.createElement('script');
            script.src = 'comprehensive-dice-debug.js';
            script.onload = () => updateStatus('Debug system loaded successfully!', 'success');
            script.onerror = () => updateStatus('Failed to load debug system', 'error');
            document.head.appendChild(script);
        }
        
        function testDebugSystem() {
            if (typeof window.debugDiceSystem !== 'undefined') {
                updateStatus('Debug system is loaded and working!', 'success');
                updateStatus('Check the top-right corner for the debug overlay', 'info');
                
                // Test the debug system
                window.debugDiceSystem.forceStateCheck();
            } else {
                updateStatus('Debug system not loaded yet', 'error');
            }
        }
        
        updateStatus('Ready to load debug system');
    </script>
</body>
</html>
